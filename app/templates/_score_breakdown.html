<div class="collapse mt-3" id="breakdown-{{ ext_id }}-{{ int_id }}">
  <div class="card card-body border-0 shadow-sm bg-light">
    <h6 class="fw-semibold mb-3">Score Breakdown</h6>
    <div class="table-responsive mb-2">
      <table class="table table-sm table-striped table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>Field</th>
            <th class="text-end">Similarity</th>
            <th class="text-end">Weight</th>
            <th class="text-end">Weighted Score</th>
          </tr>
        </thead>
        <tbody>
          {% for field, info in match.score.breakdown.items() %}
          <tr>
            <td class="fw-semibold">{{ field|camel_to_title }}</td>
            <td class="text-end">{{ info.similarity|round(3) }}</td>
            <td class="text-end">{{ info.weight }}</td>
            <td class="text-end fw-bold text-primary">
              {{ info.weighted_score|round(3) }}
            </td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr class="table-light">
            <td colspan="3" class="fw-bold text-end">Final Score:</td>
            <td class="fw-bold text-primary text-end fs-5">
              {{ match.score.value|round(3) }}
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
